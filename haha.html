<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Love Letter Envelope üíå with Flying Crack Pieces</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(to bottom, #ffe6f2, #fff0f5);
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
    }

    .envelope-wrapper {
      position: relative;
      width: 320px;
      height: 340px;
      perspective: 1000px;
    }

    .envelope {
      position: absolute;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 1.2s ease;
    }

    .envelope.close .flap { transform: rotateX(0deg); }
    .envelope.open .flap  { transform: rotateX(180deg); }

    .envelope.open .letter {
      transform: translateY(-220px) scale(1.05);
      opacity: 1;
    }

    .back {
      position: absolute;
      width: 100%;
      height: 100%;
      background: #e74c3c;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    .flap {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 50%;
      background: #c0392b;
      transform-origin: bottom;
      transform: rotateX(0deg);
      transition: transform 1.2s ease;
      border-radius: 10px 10px 0 0;
      box-shadow: inset 0 5px 15px rgba(0,0,0,0.2);
      z-index: 5;
    }

    /* Main seal (fades out) */
    .seal {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 70px;
      height: 70px;
      background: #d32f2f;
      border-radius: 50%;
      box-shadow: 0 4px 8px rgba(0,0,0,0.4), inset 0 -4px 8px rgba(0,0,0,0.3);
      opacity: 1;
      transition: all 0.8s ease;
      z-index: 10;
    }

    .seal::before {
      content: "‚ù§Ô∏è";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 40px;
      color: #fff;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    .envelope.open .seal {
      animation: fadeMainSeal 1.2s forwards;
    }

    @keyframes fadeMainSeal {
      0%   { transform: translate(-50%, -50%) scale(1); opacity: 1; }
      30%  { transform: translate(-50%, -50%) scale(1.15); opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(0.4); opacity: 0; }
    }

    /* Flying crack pieces container */
    .crack-pieces {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 1px;
      height: 1px;
      opacity: 0;
      pointer-events: none;
      z-index: 11;
    }

    .envelope.open .crack-pieces {
      opacity: 1;
      animation: showPieces 0.1s forwards;
    }

    .piece {
      position: absolute;
      width: 18px;
      height: 18px;
      background: #d32f2f;
      border-radius: 30% 70% 40% 60% / 60% 30% 70% 40%; /* irregular shard shape */
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
      opacity: 0;
      transform: translate(-50%, -50%) scale(0);
    }

    /* Individual piece animations - different directions, delays, rotations */
    .piece:nth-child(1) { animation: flyPiece1 1.4s forwards; }
    .piece:nth-child(2) { animation: flyPiece2 1.4s forwards 0.1s; }
    .piece:nth-child(3) { animation: flyPiece3 1.3s forwards 0.15s; }
    .piece:nth-child(4) { animation: flyPiece4 1.5s forwards 0.05s; }
    .piece:nth-child(5) { animation: flyPiece5 1.4s forwards 0.2s; }
    .piece:nth-child(6) { animation: flyPiece6 1.6s forwards 0.1s; }
    .piece:nth-child(7) { animation: flyPiece7 1.4s forwards 0.25s; }

    @keyframes flyPiece1 { 0% { opacity:0; transform:translate(-50%,-50%) scale(0) rotate(0deg); } 20%{opacity:1; transform:translate(-50%,-50%) scale(1) rotate(0deg);} 100%{opacity:0; transform:translate(-120px,-80px) scale(0.6) rotate(180deg);} }
    @keyframes flyPiece2 { 0% { opacity:0; transform:translate(-50%,-50%) scale(0) rotate(0deg); } 20%{opacity:1; transform:translate(-50%,-50%) scale(1) rotate(0deg);} 100%{opacity:0; transform:translate(100px,-110px) scale(0.5) rotate(-220deg);} }
    @keyframes flyPiece3 { 0% { opacity:0; transform:translate(-50%,-50%) scale(0) rotate(0deg); } 20%{opacity:1; transform:translate(-50%,-50%) scale(1) rotate(0deg);} 100%{opacity:0; transform:translate(-140px,60px) scale(0.7) rotate(140deg);} }
    @keyframes flyPiece4 { 0% { opacity:0; transform:translate(-50%,-50%) scale(0) rotate(0deg); } 20%{opacity:1; transform:translate(-50%,-50%) scale(1) rotate(0deg);} 100%{opacity:0; transform:translate(130px,70px) scale(0.6) rotate(-160deg);} }
    @keyframes flyPiece5 { 0% { opacity:0; transform:translate(-50%,-50%) scale(0) rotate(0deg); } 20%{opacity:1; transform:translate(-50%,-50%) scale(1) rotate(0deg);} 100%{opacity:0; transform:translate(-80px,120px) scale(0.5) rotate(200deg);} }
    @keyframes flyPiece6 { 0% { opacity:0; transform:translate(-50%,-50%) scale(0) rotate(0deg); } 20%{opacity:1; transform:translate(-50%,-50%) scale(1) rotate(0deg);} 100%{opacity:0; transform:translate(110px,-50px) scale(0.8) rotate(-100deg);} }
    @keyframes flyPiece7 { 0% { opacity:0; transform:translate(-50%,-50%) scale(0) rotate(0deg); } 20%{opacity:1; transform:translate(-50%,-50%) scale(1) rotate(0deg);} 100%{opacity:0; transform:translate(40px,140px) scale(0.4) rotate(250deg);} }

    .letter { /* unchanged from previous */ 
      position: absolute;
      bottom: 20px;
      left: 20px;
      right: 20px;
      min-height: 140px;
      max-height: 320px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      padding: 24px;
      box-sizing: border-box;
      opacity: 0;
      transition: all 1s ease 0.4s;
      transform: translateY(0) scale(0.9);
      overflow-y: auto;
      overflow-x: hidden;
      z-index: 2;
    }

    .letter h2 {
      margin: 0 0 12px;
      color: #e74c3c;
      text-align: center;
    }

    .letter p {
      margin: 0 0 12px 0;
      color: #222;
      line-height: 1.6;
      font-size: 15px;
    }

    .hearts { /* unchanged */ 
      position: absolute;
      top: -50px;
      left: 0;
      right: 0;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.5s;
    }

    .envelope.open .hearts { opacity: 1; }

    .heart {
      position: absolute;
      font-size: 30px;
      color: #e74c3c;
      animation: float 4s infinite ease-in-out;
    }

    .heart:nth-child(1) { left: 20%; animation-delay: 0s; }
    .heart:nth-child(2) { left: 50%; animation-delay: 1s; }
    .heart:nth-child(3) { left: 80%; animation-delay: 2s; }

    @keyframes float {
      0%   { transform: translateY(0) rotate(0deg); opacity: 0; }
      20%  { opacity: 1; }
      100% { transform: translateY(-300px) rotate(360deg); opacity: 0; }
    }

    .buttons {
      margin-top: 40px;
      display: flex;
      gap: 20px;
    }

    button {
      padding: 14px 32px;
      font-size: 18px;
      font-weight: bold;
      color: white;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    #openBtn  { background: #e74c3c; }
    #openBtn:hover  { background: #c0392b; transform: translateY(-3px); }

    #closeBtn { background: #7f8c8d; }
    #closeBtn:hover { background: #636e72; transform: translateY(-3px); }
  </style>
</head>
<body>

  <h1 style="color:#e74c3c; margin-bottom:30px;">To Ritikaüíå</h1>

  <div class="envelope-wrapper">
    <div class="envelope close" id="envelope">
      <div class="back"></div>
      <div class="flap">
        <div class="seal"></div>
        <div class="crack-pieces">
          <div class="piece"></div>
          <div class="piece"></div>
          <div class="piece"></div>
          <div class="piece"></div>
          <div class="piece"></div>
          <div class="piece"></div>
          <div class="piece"></div>
        </div>
      </div>
      <div class="letter">
       <h2>Dear RITIKA ‚ù§Ô∏è</h2>
        <p>Please forgive me for the things i did.I know i can't change the past but i can try my best to fix this.</p>
        <p style="text-align:right; margin-top:20px;">If you don't want anything, then you can say the same words.</p>
        <p style="text-align:right;">I'm SORRYYYYYYYYY</p>
      </div>
      <div class="hearts">
        <div class="heart">‚ù§Ô∏è</div>
        <div class="heart">üíñ</div>
        <div class="heart">üíï</div>
      </div>
    </div>
  </div>

  <div class="buttons">
    <button id="openBtn">Open</button>
    <button id="closeBtn">Close</button>
  </div>

  <script>
    const envelope = document.getElementById('envelope');
    const openBtn  = document.getElementById('openBtn');
    const closeBtn = document.getElementById('closeBtn');

    openBtn.addEventListener('click', () => {
      envelope.classList.remove('close');
      envelope.classList.add('open');
    });

    closeBtn.addEventListener('click', () => {
      envelope.classList.remove('open');
      envelope.classList.add('close');
    });
  </script>

</body>
</html>